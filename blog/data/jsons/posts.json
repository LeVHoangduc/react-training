[
  {
    "title": "How to create TOC with React and Typescript",
    "author": "Duc Le",
    "date": "2024-11-28",
    "tags": ["TOC"],
    "content": "\n​\n\n## What is this?\n\nI will create a Table of contents with each table of contents as the title of the article. With this table of contents you can click to go to content based on title and track what content you are reading.\n\n## Step 1: Component Functionality\n\n- currentHeadingID: State variable to store the ID of the currently intersecting heading.\n- headings: State variable to store an array of heading elements.\n\n```typescript\nconst [currentHeadingID, setCurrentHeadingID] = useState<string | undefined>()\nconst [headings, setHeadings] = useState<HTMLHeadElement[]>([])\n```\n\n- useTheme: Custom hook to get the current theme information.\n\n```typescript\nconst { isDark } = useTheme()\n```\n\n- content: Select the parent element of the specified selector.\n\n```typescript\nconst content = document.querySelector(selector)?.parentElement\n```\n\n## Step 2: Collect All Headings (useEffect #1)\n\n- Use useEffect to collect all heading elements of types h2 to h6 within the specified selector.\n\n```typescript\nuseEffect(() => {\nconst headingNodeList = document\n.querySelector(selector)!\n.querySelectorAll('h2,h3,h4,h5,h6') as NodeListOf<HTMLHeadElement>\n\nif (headingNodeList.length) {\nconst headingArray = Array.from(headingNodeList)\nheadingArray.forEach((el) => {\nel.dataset.id = Math.round(Math.random() * 1000).toString()\n})\nsetHeadings(headingArray)\n}\n}, [])\n```\n\n- Assign a random ID to each heading element and update the headings state.\n\n## Step 3: Find Current Heading (useEffect #2)\n\n- Use useEffect to observe heading elements for intersection with the viewport.\n- When a heading is fully intersecting, update the currentHeadingID state with its ID.\n- Cleanup by disconnecting the observer when the component unmounts or when headings change.\n\nA basic hello world:\n\n```typescript\nuseEffect(() => {\nconst observer = new IntersectionObserver(\n(entries) => {\nentries.forEach((entry) => {\nif (entry.isIntersecting && entry.intersectionRatio >= 1) {\nsetCurrentHeadingID((entry.target as HTMLHeadElement).dataset.id)\n}\n})\n},\n{\nrootMargin: '0% 0% -85% 0%',\nthreshold: 1\n}\n)\n\nif (headings.length) {\nheadings.forEach((s) => {\nobserver.observe(s)\n})\n}\n\nreturn () => {\nreturn observer.disconnect()\n}\n}, [headings, headings.length])\n```\n\n- You can search more information about to IntersectionObserver here\n\n## Step 3: Render\n\n- Render a div containing the table of contents (TOC).\n- Map through the headings array to create buttons for each heading.\n- Adjust the button style based on the current heading and theme.\n- Scroll to the selected heading when a button is clicked.\n\n```typescript\nreturn (\n<div className='extraDesktop:block hidden mt-20 '>\n<div className='p-4 h-full overflow-scroll'>\n<p className={`text-2xl font-normal ${isDark ? 'text-custom-light' : 'text-custom-black'}`}>Contents</p>\n{headings.map((heading) => {\nconst tagLevel = heading.tagName.match(/(\\d+)/)?.[0] || '1'\n\nreturn (\n<button\nkey={heading.dataset.id}\ndata-id={heading.dataset.id}\nstyle={{ paddingLeft: +tagLevel * 7 + 'px' }}\nonClick={() => {\ncontent?.scrollTo({\ntop: heading.getBoundingClientRect().top + content.scrollTop,\nbehavior: 'smooth'\n})\n}}\nclassName={`flex my-1 py-2 pr-2 text-[0.9rem] rounded-lg cursor-pointer hover:font-bold text-left ${\ncurrentHeadingID === heading.dataset.id ? 'font-bold' : 'font-light'\n} ${isDark ? 'text-custom-light' : 'text-custom-black'}`}\n>\n{heading.innerHTML}\n</button>\n)\n})}\n</div>\n</div>\n)\n```\n\n## Results\n\n![Demo GIF](https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExc2w1eXNxYWpsZDFudDRqeHBzYmh6OWVmNzRqbWRnd2x2aHdlbmp6NSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/CtAwNqSC3NV1ctg3jz/giphy.gif)\n\n```typescript\nimport { useEffect, useState } from 'react'\nimport useTheme from '@hooks/useTheme'\n\ninterface TOCprops {\nselector: string\n}\n\nexport default function TOC({ selector }: TOCprops) {\nconst [currentHeadingID, setCurrentHeadingID] = useState<string | undefined>()\nconst [headings, setHeadings] = useState<HTMLHeadElement[]>([])\n\nconst { isDark } = useTheme()\n\nconst content = document.querySelector(selector)?.parentElement\n\n// collect all heading\nuseEffect(() => {\nconst headingNodeList = document\n.querySelector(selector)!\n.querySelectorAll('h2,h3,h4,h5,h6') as NodeListOf<HTMLHeadElement>\n\nif (headingNodeList.length) {\nconst headingArray = Array.from(headingNodeList)\nheadingArray.forEach((el) => {\nel.dataset.id = Math.round(Math.random() * 1000).toString()\n})\nsetHeadings(headingArray)\n}\n}, [])\n\n// find out what is the current heading\nuseEffect(() => {\nconst observer = new IntersectionObserver(\n(entries) => {\nentries.forEach((entry) => {\nif (entry.isIntersecting && entry.intersectionRatio >= 1) {\nsetCurrentHeadingID((entry.target as HTMLHeadElement).dataset.id)\n}\n})\n},\n{\nrootMargin: '0% 0% -85% 0%',\nthreshold: 1\n}\n)\n\nif (headings.length) {\nheadings.forEach((s) => {\nobserver.observe(s)\n})\n}\n\nreturn () => {\nreturn observer.disconnect()\n}\n}, [headings, headings.length])\n\nreturn (\n<div className='extraDesktop:block hidden mt-20 '>\n<div className='p-4 h-full overflow-scroll'>\n<p className={`text-2xl font-normal ${isDark ? 'text-custom-light' : 'text-custom-black'}`}>Contents</p>\n{headings.map((heading) => {\nconst tagLevel = heading.tagName.match(/(\\d+)/)?.[0] || '1'\n\nreturn (\n<button\nkey={heading.dataset.id}\ndata-id={heading.dataset.id}\nstyle={{ paddingLeft: +tagLevel * 7 + 'px' }}\nonClick={() => {\ncontent?.scrollTo({\ntop: heading.getBoundingClientRect().top + content.scrollTop,\nbehavior: 'smooth'\n})\n}}\nclassName={`flex my-1 py-2 pr-2 text-[0.9rem] rounded-lg cursor-pointer hover:font-bold text-left ${\ncurrentHeadingID === heading.dataset.id ? 'font-bold' : 'font-light'\n} ${isDark ? 'text-custom-light' : 'text-custom-black'}`}\n>\n{heading.innerHTML}\n</button>\n)\n})}\n</div>\n</div>\n)\n}\n```\n",
    "id": 3
  },
  {
    "title": "How to use react-markdown with React and Typescript",
    "author": "Duc Le",
    "date": "2024-11-10",
    "tags": ["React", "react-markdown"],
    "content": "\n​\n\n## What is this?\n\nThis package is a React component that can be given a string of markdown that it'll safely render to React elements. You can pass plugins to change how markdown is transformed and pass components that will be used instead of normal HTML elements.\n\nTo learn markdown, see this [cheatsheet and tutorial](<cheatsheet_and_tutorial_link>).\n\nTo try out `react-markdown`, see our [demo](<demo_link>).\n\n## When should I use this?\n\nThere are other ways to use markdown in React out there, so why use this one? The three main reasons are that they often rely on `dangerouslySetInnerHTML`, have bugs with how they handle markdown, or don't let you swap elements for components. `react-markdown` builds a virtual DOM, so React only replaces what changed, from a syntax tree. That’s supported because we use unified, specifically remark for markdown and rehype for HTML, which are popular tools to transform content with plugins.\n\nThis package focuses on making it easy for beginners to safely use markdown in React. When you're familiar with unified, you can use a modern hooks-based alternative `react-remark` or `rehype-react` manually. If you instead want to use JavaScript and JSX inside markdown files, use MDX.\n\n## Install\n\nThis package is ESM only. In Node.js (version 16+), install with npm:\n\n```bash\nnpm install react-markdown\n```\n\nIn Deno with esm.sh:\n\n```javascript\nimport Markdown from 'https://esm.sh/react-markdown@9'\n```\n\nIn browsers with esm.sh:\n\n```javascript\n<script type=\"module\">\nimport Markdown from 'https://esm.sh/react-markdown@9?bundle'\n</script>\n```\n\n## Use\n\nA basic hello world:\n\n```javascript\nimport React from 'react'\nimport {createRoot} from 'react-dom/client'\nimport Markdown from 'react-markdown'\n\nconst markdown = '# Hi, *Pluto*!'\n\ncreateRoot(document.body).render(<Markdown>{markdown}</Markdown>)\n```\n\n### Some problems with Typescript\n\nWhen you're using react-markdown and have a CodeBlock component. The error is indicating that your components object is not matching the expected type for react-markdown components.\n\nThe components prop in react-markdown expects an object where keys are the names of the components to override, and values are the React components you want to use for those elements.\n\nIn your case, it seems like you're trying to override the default code component. However, the react-markdown type definitions expect a function that returns a JSX element for each component.\n\n```javascript\nconst components = {\ncode: ({ node, inline, className, children, ...props }: any) => {\n// Use your CodeBlock component here\nreturn <CodeBlock {...props}>{children}</CodeBlock>;\n},\n};\n```\n",
    "id": 4
  },
  {
    "title": "How to install ReactJS",
    "author": "geeksforgeeks",
    "date": "2022-12-17",
    "tags": ["Django", "Python"],
    "content": "\n​\n\n## Features of React\n\n1. **Reusable Components:** A single React app consists of many components each component have their own logic and code  but we can easily reuse components any number of time hence reducing the developers time and increasing the efficiency of work\n​\n2. **Debugging:** React app can be easily debug using  “react developer tools”.It’s a browser extension that can be used for both chrome as well as Firefox.\n​\n\n> **ReactJS**\n> Meta\n​\n\n## Installation Reactjs on Windows\n\n## Step 1: Install Node.js\n\n- Install Node.js installer for Windows by clicking on [this link](https://nodejs.org/en/).\n- Install the LTS version (the one present on the left). Once downloaded, open Node.js installer and click on the \"Next\" button until it’s completely installed.\n- Install the 14.18.1 LTS version.\n\n![React Image](https://media.geeksforgeeks.org/wp-content/uploads/20211015204506/img78.jpg)\n\nCongratulation you have successfully installed the react-app and are ready to build awesome websites and app\n",
    "id": 1
  },
  {
    "title": "How to create react app",
    "author": "Duc Le",
    "date": "2012-11-08",
    "tags": ["React", "Frontend"],
    "content": "\n​\n\n## Features of React\n\n1. **Reusable Components:** A single React app consists of many components each component have their own logic and code  but we can easily reuse components any number of time hence reducing the developers time and increasing the efficiency of work\n​\n2. **Debugging:** React app can be easily debug using  “react developer tools”.It’s a browser extension that can be used for both chrome as well as Firefox.\n​\n\n> **ReactJS**\n> Meta\n\n## Installation Reactjs on Windows\n\n## Step 1: Install Node.js\n\n- Install Node.js installer for Windows by clicking on [this link](https://nodejs.org/en/).\n- Install the LTS version (the one present on the left). Once downloaded, open Node.js installer and click on the \"Next\" button until it’s completely installed.\n- Install the 14.18.1 LTS version.\n\n## Step 2: Verify Node.js Installation\n\n- Open the command prompt to check whether Node.js is completely installed or not by typing the command:\n\n```javascript\nnode -v\n```\n\n- If the installation went well it will give you the version you have installed\n\n## Step 3: Install create-react-app\n\n- In the terminal, run the following command to install create-react-app globally:\n\n```javascript\nnpm install -g create-react-app\n```\n\n- It will globally install react app for you. To check everything  went well run the command\n\n```javascript\ncreate-react-app --version\n```\n\n- If everything went well it will give you the installed version of react app\n\n## Step 4: Create a New Folder\n\n- Create a new folder where you want to make your React app using the command:\n\n```javascript\nmkdir newfolder\n```\n\n## Step 5: Now inside this folder run the command\n\n```javascript\ncreate-react-app reactfirst YOUR_APP_NAME\n```\n\n- It will take some time to install the required dependencies\n\n**Note:** Due to npm naming restrictions, app names can no longer contain capital letters. Therefore, please type your app's name in lowercase.\n\n## Step 6: To start your app run the below command\n\n- Once you run the above command a new tab will open in your browser showing React logo as shown below :\n\n![React Image](https://media.geeksforgeeks.org/wp-content/uploads/20211015204506/img78.jpg)\n\nCongratulation you have successfully installed the react-app and are ready to build awesome websites and app\n",
    "id": 2
  }
]
